{% extends 'core/base.html' %}
{% load static %}

{% block title %}Dashboard - Sistema Guardião{% endblock %}

{% block content %}
<div class="container">
    <!-- Header do Dashboard -->
    <div class="dashboard-header">
        <div class="dashboard-welcome">
            <div class="welcome-avatar">
                {% if guardian.avatar_url %}
                    <img src="{{ guardian.avatar_url }}" alt="{{ guardian.discord_display_name }}">
                {% else %}
                    <i class="fas fa-user"></i>
                {% endif %}
            </div>
            <div class="welcome-text">
                <h1>Bem-vindo, {{ guardian.discord_display_name }}!</h1>
                <p class="guardian-level">Nível {{ guardian.level }} - {{ guardian.get_level_display }}</p>
            </div>
        </div>
        
        <div class="status-toggle">
            <div class="status-indicator {{ guardian.status }}">
                <i class="fas fa-circle"></i>
                <span>{{ guardian.get_status_display }}</span>
            </div>
            <button class="btn btn-toggle">
                <i class="fas fa-power-off"></i>
                Alternar Status
            </button>
        </div>
    </div>

    <!-- Stats Cards -->
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-star"></i>
            </div>
            <div class="stat-content">
                <h3 class="stat-number">{{ guardian.points }}</h3>
                <p class="stat-label">Pontos</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <div class="stat-content">
                <h3 class="stat-number">{{ guardian.correct_votes }}</h3>
                <p class="stat-label">Votos Corretos</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-times-circle"></i>
            </div>
            <div class="stat-content">
                <h3 class="stat-number">{{ guardian.incorrect_votes }}</h3>
                <p class="stat-label">Votos Incorretos</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-percentage"></i>
            </div>
            <div class="stat-content">
                <h3 class="stat-number">{{ guardian.accuracy_percentage }}%</h3>
                <p class="stat-label">Precisão</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-clock"></i>
            </div>
            <div class="stat-content">
                <h3 class="stat-number">{{ guardian.total_service_hours|floatformat:1 }}</h3>
                <p class="stat-label">Horas de Serviço</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-calendar-alt"></i>
            </div>
            <div class="stat-content">
                <h3 class="stat-number">{{ guardian.last_activity|date:"d/m" }}</h3>
                <p class="stat-label">Última Atividade</p>
            </div>
        </div>
    </div>

</div>
{% endblock %}

{% block extra_js %}
<!-- JavaScript removido - agora usa scripts.js -->
{% endblock %}
